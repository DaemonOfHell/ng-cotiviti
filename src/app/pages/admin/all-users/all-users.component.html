<!-- <div class="centered-overlay"> -->
<p-overlayPanel
  [dismissable]="false"
  [style]="{
    width: '600px',
    position: 'absolute',
    padding: '0 40px'
  }"
  #op
>
  <ng-template pTemplate>
    <app-create-user-form
      (onUserAdded)="addUser($event)"
    ></app-create-user-form>
  </ng-template>
</p-overlayPanel>
<!-- </div> -->

<div class="all-users-header" #actualTarget>
  <h1 class="page-heading">All Users</h1>
  <button
    type="text"
    (click)="op.toggle($event, actualTarget); toggleForm()"
    id="btn-rigid"
  >
    {{ showUserForm ? "cancel" : "create user" }}
  </button>
</div>

<div class="container">
  <p-table
    [value]="allUsers"
    responsiveLayout="scroll"
    [paginator]="true"
    [rows]="7"
    [showCurrentPageReport]="true"
    currentPageReportTemplate="showing {first} to {last} of {totalRecords} entries"
    [rowsPerPageOptions]="[7, 14, 21]"
  >
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="USER_ID">
          id<p-sortIcon field="USER_ID"></p-sortIcon>
        </th>
        <th pSortableColumn="USERNAME">
          Name<p-sortIcon field="USERNAME"></p-sortIcon>
        </th>
        <th pSortableColumn="ROLE">
          role(s)<p-sortIcon field="ROLE"></p-sortIcon>
        </th>
        <th>action</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
      <tr>
        <td>{{ user.USER_ID }}</td>
        <td>{{ user.USERNAME }}</td>
        <td>{{ user.ROLE }}</td>
        <td>
          <button
            type="button"
            class="action-btn"
            title="remove user"
            (click)="removeUser(user)"
            *ngIf="user.ROLE != 'ADMIN'"
          >
            <i class="fa-solid fa-trash-can"></i>
          </button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
<!-- <div class="list-heading-3">
        <h3 class="badge">id</h3>
        <h3 class="name">name</h3>
        <h3 class="role">role(s)</h3>
</div>
<ol class="all-users-list">

    <li *ngFor="let user of allUsers">
        <div class="user-item"> 
            <span class="badge">{{user.USER_ID}}</span>
            <span class="name">{{user.USERNAME}}</span>
            <span class="role">{{user.ROLE}}</span>
        </div>
        <button type="button" class="remove" title="remove user"
        (click)="removeUser(user)">
        
        <i class="fa-solid fa-trash-can"></i>
        </button>
    </li>
</ol> -->
